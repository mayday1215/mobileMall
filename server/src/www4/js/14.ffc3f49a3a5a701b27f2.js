webpackJsonp([14],{"9uRZ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{}},mounted:function(){console.log(this.addr)},computed:{addr:function(){return this.$store.chosenAddress},id:function(){return this.$route.params.id},areaList:function(){return this.$store.areaData}},methods:{onSave:function(e){var t=this;if(this.id>0){var r={name:e.name,province:e.province,city:e.city,country:e.county,detail:e.addressDetail,mobile:e.tel,code:e.areaCode,default:e.isDefault?1:0};this.$axios.post("/user_address/update?id="+this.id,r).then(function(e){if(0===e.errcode){for(var s=0;s<t.$store.user.addressList.length;s++)t.$store.user.addressList[s].id==t.id&&(r.id=t.id,r.tel=r.mobile,r.county=r.country,r.addressDetail=r.detail,r.isDefault=!!r.default,r.areaCode=r.code,r.address=r.province+r.city+r.country+r.detail,t.$store.user.addressList[s]=r);t.$router.back()}})}else this.$axios.post("/user_address/create",{name:e.name,province:e.province,city:e.city,country:e.county,detail:e.addressDetail,mobile:e.tel,code:e.areaCode,default:e.isDefault?1:0}).then(function(e){if(0===e.errcode){var r=e.data;r.tel=r.mobile,r.county=r.country,r.addressDetail=r.detail,r.isDefault=!!r.default,r.areaCode=r.code,r.address=r.province+r.city+r.country+r.detail,t.$store.user.addressList.push(r),t.$router.back()}})},onDelete:function(){var e=this;this.$axios.get("/user_address/delete?id="+this.id).then(function(t){if(0==t.errcode){for(var r=0;r<e.$store.user.addressList.length;r++)e.$store.user.addressList[r].id==e.id&&e.$store.user.addressList.splice(r,1);e.$router.back()}})}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("van-nav-bar",{attrs:{title:e.$route.params.id>0?"编辑地址":"新增地址","left-arrow":"","left-text":"返回"},on:{"click-left":function(t){return e.$router.back()}}}),e._v(" "),r("div",{staticClass:"list noTabBarList"},[r("van-address-edit",{attrs:{"address-info":e.addr,"area-list":e.areaList,"show-delete":e.id>0,"show-set-default":""},on:{save:e.onSave,delete:e.onDelete}})],1)],1)},staticRenderFns:[]};var i=r("VU/8")(s,a,!1,function(e){r("K63r")},"data-v-53500c18",null);t.default=i.exports},K63r:function(e,t){}});
//# sourceMappingURL=14.ffc3f49a3a5a701b27f2.js.map