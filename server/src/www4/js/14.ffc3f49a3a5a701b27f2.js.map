{"version":3,"sources":["webpack:///src/pages/addressEdit.vue","webpack:///./src/pages/addressEdit.vue?8816","webpack:///./src/pages/addressEdit.vue"],"names":["addressEdit","data","mounted","console","log","this","addr","computed","$store","chosenAddress","id","$route","params","areaList","areaData","methods","onSave","form","_this","name","province","city","country","county","detail","addressDetail","mobile","tel","code","areaCode","default","isDefault","$axios","post","then","res","errcode","i","user","addressList","length","address","$router","back","_addr","push","onDelete","_this2","get","splice","pages_addressEdit","render","_vm","_h","$createElement","_c","_self","attrs","title","left-arrow","left-text","on","click-left","$event","_v","staticClass","address-info","area-list","show-delete","show-set-default","save","delete","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.ffc3f49a3a5a701b27f2.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar :title=\"$route.params.id > 0 ? '编辑地址' : '新增地址'\" left-arrow left-text=\"返回\" @click-left=\"$router.back()\">\r\n    </van-nav-bar>\r\n    <div class=\"list noTabBarList\">\r\n      <van-address-edit :address-info=\"addr\" :area-list=\"areaList\" :show-delete=\"id > 0\" show-set-default @save=\"onSave\"\r\n        @delete=\"onDelete\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n\r\n      }\r\n    },\r\n    mounted() {\r\n      console.log(this.addr)\r\n    },\r\n    computed: {\r\n      addr() {\r\n        return this.$store.chosenAddress\r\n      },\r\n      id() {\r\n        return this.$route.params.id\r\n      },\r\n      areaList() {\r\n        return this.$store.areaData\r\n      }\r\n    },\r\n    methods: {\r\n      onSave(form) {\r\n        if (this.id > 0) {\r\n          let addr = {\r\n            name: form.name,\r\n            province: form.province,\r\n            city: form.city,\r\n            country: form.county,\r\n            detail: form.addressDetail,\r\n            mobile: form.tel,\r\n            code: form.areaCode,\r\n            default: form.isDefault ? 1 : 0\r\n          }\r\n          this.$axios.post(`/user_address/update?id=${this.id}`, addr).then(res => {\r\n            if (res.errcode === 0) {\r\n              for (let i = 0; i < this.$store.user.addressList.length; i++) {\r\n                if (this.$store.user.addressList[i].id == this.id) {\r\n                  addr.id = this.id\r\n                  addr.tel = addr.mobile\r\n                  addr.county = addr.country\r\n                  addr.addressDetail = addr.detail\r\n                  addr.isDefault = addr.default ? true : false\r\n                  addr.areaCode = addr.code\r\n                  addr.address = addr.province + addr.city + addr.country + addr.detail\r\n                  this.$store.user.addressList[i] = addr\r\n                }\r\n              }\r\n\r\n              this.$router.back()\r\n            }\r\n          })\r\n        } else {\r\n          this.$axios.post('/user_address/create', {\r\n            name: form.name,\r\n            province: form.province,\r\n            city: form.city,\r\n            country: form.county,\r\n            detail: form.addressDetail,\r\n            mobile: form.tel,\r\n            code: form.areaCode,\r\n            default: form.isDefault ? 1 : 0\r\n          }).then(res => {\r\n            if (res.errcode === 0) {\r\n              let addr = res.data\r\n              addr.tel = addr.mobile\r\n              addr.county = addr.country\r\n              addr.addressDetail = addr.detail\r\n              addr.isDefault = addr.default ? true : false\r\n              addr.areaCode = addr.code\r\n              addr.address = addr.province + addr.city + addr.country + addr.detail\r\n              this.$store.user.addressList.push(addr)\r\n              this.$router.back()\r\n            }\r\n          })\r\n        }\r\n      },\r\n      onDelete() {\r\n        this.$axios.get(`/user_address/delete?id=${this.id}`).then(res => {\r\n          if (res.errcode == 0) {\r\n            for (let i = 0; i < this.$store.user.addressList.length; i++) {\r\n              if (this.$store.user.addressList[i].id == this.id) {\r\n                this.$store.user.addressList.splice(i, 1)\r\n              }\r\n            }\r\n            this.$router.back()\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/addressEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":_vm.$route.params.id > 0 ? '编辑地址' : '新增地址',\"left-arrow\":\"\",\"left-text\":\"返回\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_vm._v(\" \"),_c('div',{staticClass:\"list noTabBarList\"},[_c('van-address-edit',{attrs:{\"address-info\":_vm.addr,\"area-list\":_vm.areaList,\"show-delete\":_vm.id > 0,\"show-set-default\":\"\"},on:{\"save\":_vm.onSave,\"delete\":_vm.onDelete}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-53500c18\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/addressEdit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53500c18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addressEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addressEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addressEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53500c18\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./addressEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-53500c18\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/addressEdit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}