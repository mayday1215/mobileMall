{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?badb","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/util/index.js","webpack:///./src/util/http.js","webpack:///./src/util/init.js","webpack:///./src/main.js"],"names":["App","data","name","password","errmsg","methods","pay","signin","_this","this","$axios","post","then","res","errcode","$Toast","$store","user","$util","transformAddressData","localStorage","token","cart","forEach","item","checked","stringify_default","showSignin","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","on","click","_v","staticClass","position","close-on-click-overlay","model","value","callback","$$v","$set","expression","title","click-left","$event","slot","clearable","label","placeholder","error-message","type","size","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","store","Vue","cityData","areaData","geoLocationCity","productData","page","total","list","scrollTop","chosenAddress","openSignin","show","computed","addressList","Array","isArray","cartProductCount","reduce","prev","curr","index","count","use","Router","router","routes","path","component","resolve","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","meta","needAuth","beforeEach","to","from","next","util","storageJSONToStore","key","initData","JSON","parse","error","i","length","addr","tel","mobile","county","country","addressDetail","detail","isDefault","default","areaCode","code","address","province","city","axios","defaults","baseURL","timeout","jsonp","interceptors","request","req","headers","Authorization","response","err","message","indexOf","config","_retryCount","alert","promise_default","a","reject","url","split","init","initStore","initHttpData","http","get","json","status","result","addressComponent","start","Vant","Lazyload","VueCropper","prototype","Toast","productionTip","el","components","template"],"mappings":"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","file":"www4/js/app.79dd241e41dd627235fd.js","sourcesContent":["<template>\r\n\r\n  <div id=\"app\" @click=\"pay\">\r\n    <transition name=\"van-fade\">\r\n      <router-view />\r\n    </transition>\r\n    \r\n\r\n    <van-popup class=\"van-popup-signin\" v-model=\"$store.showSignin\" position=\"bottom\" :close-on-click-overlay=\"false\">\r\n      <van-nav-bar title=\"登录/注册\" @click-left=\"$store.showSignin = false\">\r\n        <van-icon slot=\"left\" name=\"cross\" />\r\n      </van-nav-bar>\r\n      <van-cell-group>\r\n        <van-field v-model=\"name\" clearable label=\"用户名\" placeholder=\"请输入用户名\" :error-message=\"errmsg.name\" />\r\n        <van-field v-model=\"password\" type=\"password\" label=\"密码\" placeholder=\"请输入密码\" :error-message=\"errmsg.password\"\r\n          clearable />\r\n        <van-button type=\"primary\" size=\"large\" @click=\"signin\">登录/注册</van-button>\r\n      </van-cell-group>\r\n    </van-popup>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        name: '',\r\n        password: '',\r\n        errmsg: {\r\n          name: '',\r\n          password: ''\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      pay() {\r\n        // ap.tradePay({\r\n        //   orderStr: 'timestamp=2016-12-27%2018%3A00%3A00&method=alipay.trade.app.pay&app_id=2014073000007292......'\r\n        // }, function (res) {\r\n        //   ap.alert(res.resultCode);\r\n        // })\r\n      },\r\n      signin() {\r\n        if (this.name === '') {\r\n          this.errmsg.name = '账号不能为空'\r\n          return\r\n        } else {\r\n          this.errmsg.name = ''\r\n        }\r\n        if (this.password === '') {\r\n          this.errmsg.password = '密码不能为空'\r\n          return\r\n        } else {\r\n          this.errmsg.password = ''\r\n        }\r\n        this.$axios.post('/user/signin', {\r\n          name: this.name,\r\n          password: this.password\r\n        }).then(res => {\r\n          if (res.errcode == 0) {\r\n            this.$Toast('登录成功')\r\n            this.$store.user = res.data\r\n            this.$util.transformAddressData()\r\n            localStorage.token = res.data.token\r\n            this.$store.cart.forEach(item => {\r\n              item.checked = item.checked ? 1 : 0\r\n            })\r\n            this.$axios.post('/cart/cacheUpdate', { cart: this.$store.cart }).then(res => {\r\n              if (res.errcode === 0) {\r\n                this.$store.cart = res.data\r\n              }\r\n            })\r\n            localStorage.cart = JSON.stringify([])\r\n            this.$store.showSignin = false\r\n          } else {\r\n            this.errmsg.password = res.errmsg\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  /* :after就是在标签里面最后面加上一个块级空内容 */\r\n  .clearfix:after {\r\n    content: ' ';\r\n    display: block;\r\n    clear: both;\r\n  }\r\n\r\n  .center {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .list {\r\n    height: calc(100vh - 96px);\r\n    overflow-y: scroll;\r\n    -webkit-overflow-scrolling: touch;\r\n    background-color: #F8F8F8;\r\n  }\r\n\r\n  .noTabBarList {\r\n    height: calc(100vh - 50px);\r\n  }\r\n\r\n  .list .item {\r\n    float: left;\r\n    width: 50vw;\r\n    height: 68vw;\r\n  }\r\n\r\n  .list .item img {\r\n    width: 50vw;\r\n    height: 50vw;\r\n  }\r\n\r\n  .list .item h3 {\r\n    padding: 1.5vw 0 0 3vw;\r\n    color: #333;\r\n    font-size: 4.2vw;\r\n    height: 7vw;\r\n    overflow: hidden;\r\n  }\r\n\r\n\r\n  .list .item .price {\r\n    padding: 1vw 0 0 3vw;\r\n    font-size: 3.6vw;\r\n  }\r\n\r\n  .list .item .price span {\r\n    float: left;\r\n  }\r\n\r\n  .list .item .cprice {\r\n    color: #EA625B;\r\n    font-size: 3.6vw;\r\n  }\r\n\r\n  .list .item .price-l {\r\n    color: #EA625B;\r\n    font-size: 3vw;\r\n    margin-top: 0.2vw;\r\n  }\r\n\r\n  .list .item .price-r {\r\n    color: #EA625B;\r\n    font-size: 0.24vw;\r\n    margin-left: 0.4vw;\r\n    margin-top: 1vw;\r\n  }\r\n\r\n  .item-gap {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .item-gap:last-of-type {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .item-gap .van-cell__left-icon {\r\n    font-size: 50px;\r\n  }\r\n\r\n  .van-popup-pay {\r\n    height: 60%;\r\n    min-height: 430px;\r\n  }\r\n\r\n  .van-popup-signin {\r\n    height: 100%;\r\n  }\r\n\r\n  .pay-nav-bar {\r\n    margin-bottom: 10%;\r\n  }\r\n\r\n  .van-goods-action {\r\n    z-index: 99;\r\n  }\r\n\r\n  .toTop {\r\n    position: fixed;\r\n    bottom: 13vw;\r\n    right: 5vw;\r\n    z-index: 999;\r\n    font-size: 10vw;\r\n    color: #999;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"click\":_vm.pay}},[_c('transition',{attrs:{\"name\":\"van-fade\"}},[_c('router-view')],1),_vm._v(\" \"),_c('van-popup',{staticClass:\"van-popup-signin\",attrs:{\"position\":\"bottom\",\"close-on-click-overlay\":false},model:{value:(_vm.$store.showSignin),callback:function ($$v) {_vm.$set(_vm.$store, \"showSignin\", $$v)},expression:\"$store.showSignin\"}},[_c('van-nav-bar',{attrs:{\"title\":\"登录/注册\"},on:{\"click-left\":function($event){_vm.$store.showSignin = false}}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"cross\"},slot:\"left\"})],1),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"clearable\":\"\",\"label\":\"用户名\",\"placeholder\":\"请输入用户名\",\"error-message\":_vm.errmsg.name},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"error-message\":_vm.errmsg.password,\"clearable\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.signin}},[_vm._v(\"登录/注册\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-607094b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-607094b8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-607094b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\n\r\nexport default new Vue({\r\n  data:{\r\n    showSignin:false,\r\n    cityData:{},\r\n    areaData:{},\r\n    geoLocationCity:'',\r\n    user:{},\r\n    cart:[],\r\n    productData:{\r\n      page: 1,\r\n      total: 1,\r\n      list:[],\r\n      scrollTop:0\r\n    },\r\n    chosenAddress:{}\r\n  },\r\n  methods: {\r\n    openSignin(show){\r\n      this.showSignin = show\r\n    }\r\n  },\r\n  computed: {\r\n    addressList(){\r\n      return Array.isArray(this.user.addressList) ? this.user.addressList : []\r\n    },\r\n    cartProductCount(){\r\n      return this.cart.reduce((prev, curr, index) => {\r\n        if(curr.checked){\r\n          return prev += curr.count\r\n        }else{\r\n          return prev\r\n        }\r\n        // return prev += curr.count\r\n      }, 0)\r\n    }\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '../store';\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n  routes: [\r\n    {\r\n      path: '/user/setting',\r\n      name: 'userSetting',\r\n      component: resolve => require(['@/pages/userSetting'], resolve)\r\n    },\r\n    {\r\n      path: '/user/nickname',\r\n      name: 'nicknameSetting',\r\n      component: resolve => require(['@/pages/nicknameSetting'], resolve)\r\n    },\r\n    {\r\n      path: '/user/avatar',\r\n      name: 'avatarSetting',\r\n      component: resolve => require(['@/pages/avatarSetting'], resolve)\r\n    },\r\n    {\r\n      path: '/user/passwordSetting',\r\n      name: 'passwordSetting',\r\n      component: resolve => require(['@/pages/passwordSetting'], resolve)\r\n    },\r\n    {\r\n      path: '/user/payPasswordSetting',\r\n      name: 'payPasswordSetting',\r\n      component: resolve => require(['@/pages/payPasswordSetting'], resolve)\r\n    },\r\n    {\r\n      path: '/',\r\n      name: 'index',\r\n      component: resolve => require(['@/pages/index'], resolve),\r\n    },\r\n    {\r\n      path: '/cart',\r\n      name: 'cart',\r\n      component: resolve => require(['@/pages/cart'], resolve)\r\n    },\r\n    {\r\n      path: '/me',\r\n      name: 'me',\r\n      component: resolve => require(['@/pages/me'], resolve)\r\n    },\r\n    {\r\n      path: '/orderList',\r\n      name: 'orderList',\r\n      component: resolve => require(['@/pages/orderList'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/product/:id',\r\n      name: 'product',\r\n      component: resolve => require(['@/pages/product'], resolve)\r\n    },\r\n    {\r\n      path: '/order/:id',\r\n      name: 'order',\r\n      component: resolve => require(['@/pages/order'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/search',\r\n      name: 'search',\r\n      component: resolve => require(['@/pages/search'], resolve)\r\n    },\r\n    {\r\n      path: '/likeList',\r\n      name: 'likeList',\r\n      component: resolve => require(['@/pages/likeList'], resolve)\r\n    },\r\n    {\r\n      path: '/orderConfirm',\r\n      name: 'orderConfirm',\r\n      component: resolve => require(['@/pages/orderConfirm'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/addressList',\r\n      name: 'addressList',\r\n      component: resolve => require(['@/pages/addressList'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/addressEdit/:id',\r\n      name: 'addressEdit',\r\n      component: resolve => require(['@/pages/addressEdit'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/paySuccess',\r\n      name: 'paySuccess',\r\n      component: resolve => require(['@/pages/paySuccess'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/payFail',\r\n      name: 'payFail',\r\n      component: resolve => require(['@/pages/payFail'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/citySelect',\r\n      name: 'citySelect',\r\n      component: resolve => require(['@/pages/citySelect'], resolve)\r\n    },\r\n    {\r\n      path: '/virtualList',\r\n      name: 'virtualList',\r\n      component: resolve => require(['@/pages/virtualList'], resolve)\r\n    },\r\n    {\r\n      path: '*',\r\n      name: '404',\r\n      component: resolve => require(['@/pages/404'], resolve)\r\n    }\r\n  ]\r\n})\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.meta.needAuth){\r\n    if(localStorage.token){\r\n      store.showSignin = false\r\n      next()\r\n    }else{\r\n      // to.query.redirect = to.name\r\n      // to.query.params = to.params\r\n      store.showSignin = true\r\n      // router.push({name:'signin', query:to.query})\r\n    }\r\n  }else{\r\n    store.showSignin = false\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import store from '../store'\r\n\r\nexport default {\r\n  storageJSONToStore(key, initData) {\r\n    if (localStorage[key]) {\r\n      try {\r\n        store[key] = JSON.parse(localStorage[key])\r\n      } catch (error) {\r\n        store[key] = initData\r\n      }\r\n    }\r\n  },\r\n  transformAddressData() {\r\n    let addressList = store.user.addressList\r\n    if (Array.isArray(addressList)) {\r\n      for (let i = 0; i < addressList.length; i++) {\r\n        const addr = addressList[i]\r\n        addr.tel = addr.mobile\r\n        addr.county = addr.country\r\n        addr.addressDetail = addr.detail\r\n        addr.isDefault = addr.default ? true : false\r\n        addr.areaCode = addr.code\r\n        addr.address = addr.province + addr.city + addr.country + addr.detail\r\n      }\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js","import router from '../router'\r\nimport store from '../store'\r\nimport axios from 'axios'\r\nimport jsonp from 'fetch-jsonp'\r\n\r\n// axios所有调接口地址自动加上这个前缀\r\naxios.defaults.baseURL = '/api/v4'\r\naxios.defaults.timeout = 5000\r\n\r\naxios.jsonp = jsonp\r\n\r\naxios.interceptors.request.use(req => {\r\n  req.headers.Authorization = localStorage.token\r\n  return req\r\n})\r\n\r\naxios.interceptors.response.use(res => {\r\n  res = res.data\r\n  if (res.errcode === 90101) {\r\n    store.user = {}\r\n    localStorage.token = \"\"\r\n    // store.openSignin(true)\r\n  }\r\n  return res\r\n}, err => {\r\n  if (err.request) {\r\n    if (err.message.indexOf('timeout') > -1) {\r\n      let config = err.config\r\n      config.headers._retryCount = config.headers._retryCount ? config.headers._retryCount : 1\r\n      if (config.headers._retryCount >= 5) {\r\n        alert(\"网络错误\")\r\n        return Promise.reject(err)\r\n      }\r\n      config.headers._retryCount += 1\r\n      config.url = config.url.split(config.baseURL)[1]\r\n      return axios(config)\r\n    }\r\n  } else if (err.response) {\r\n\r\n  } else {\r\n\r\n  }\r\n\r\n  return Promise.reject(err)\r\n})\r\n\r\nexport default axios\n\n\n// WEBPACK FOOTER //\n// ./src/util/http.js","import util from './index'\r\nimport store from '../store'\r\nimport http from './http'\r\n\r\nexport default {\r\n  initStore() {\r\n    // 如果没有登录的话，把本地存储的购物车保存到store\r\n    util.storageJSONToStore('cart', [])\r\n  },\r\n  initHttpData() {\r\n    http.get('/user/info').then(res => {\r\n      if (res.errcode === 0) {\r\n        store.user = res.data\r\n        util.transformAddressData()\r\n      }\r\n    })\r\n    http.get('/data/city').then(res => {\r\n      if (res.errcode === 0) {\r\n        store.cityData = res.data\r\n        localStorage.cityData = JSON.stringify(res.data)\r\n      }\r\n    })\r\n    http.get('/data/area').then(res => {\r\n      if (res.errcode === 0) {\r\n        store.areaData = res.data\r\n        localStorage.areaData = JSON.stringify(res.data)\r\n      }\r\n    })\r\n    if (localStorage.geoLocationCity) {\r\n      store.geoLocationCity = localStorage.geoLocationCity\r\n    } else {\r\n      http.jsonp('http://api.map.baidu.com/geocoder/v2/?ak=C93b5178d7a8ebdb830b9b557abce78b&callback=renderReverse&location=22.62,114.07&output=json&pois=0').then(res => {\r\n        res.json().then(res => {\r\n          if (res.status === 0) {\r\n            store.geoLocationCity = res.result.addressComponent.city\r\n            localStorage.geoLocationCity = store.geoLocationCity\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n\r\n  },\r\n  start() {\r\n    this.initStore()\r\n    this.initHttpData()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/init.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'\r\nimport util from './util';\r\nimport http from './util/http'\r\nimport init from './util/init'\r\nimport Vant from 'vant'\r\nimport VueCropper from 'vue-cropperjs'\r\nimport 'cropperjs/dist/cropper.css'\r\n\r\n// es6解构\r\nimport { Lazyload, Toast } from 'vant'\r\nimport 'vant/lib/index.css'\r\n\r\n\r\nVue.use(Vant)\r\nVue.use(Lazyload, {})\r\nVue.component('vue-cropper', VueCropper)\r\n\r\nVue.prototype.$store = store\r\nVue.prototype.$axios = http\r\nVue.prototype.$Toast = Toast\r\nVue.prototype.$util = util\r\n\r\n\r\ninit.start()\r\n\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}