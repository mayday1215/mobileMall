{"version":3,"sources":["webpack:///src/pages/virtualList.vue","webpack:///./src/pages/virtualList.vue?308e","webpack:///./src/pages/virtualList.vue","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/vue-virtual-scroll-list/dist/index.js"],"names":["virtualList","components","virtual-list","a","data","adImages","page","total","isLoading","list","computed","vlistSize","screen","availWidth","methods","handleScroll","e","params","this","offset","offsetAll","getData","_this","size","$axios","get","then","res","errcode","totalPages","concat","$store","skeletonVisible","mounted","pages_virtualList","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","ref","staticClass","staticStyle","height","remain","onscroll","autoplay","_l","img","i","key","src","item","index","Math","random","to","directives","name","rawName","value","expression","_s","price","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","l","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","_typeof","obj","Symbol","iterator","constructor","prototype","namespace","Vue","default","_debounce","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","component","props","type","Number","required","rtag","String","wtag","wclass","pagemode","Boolean","scrollelement","window","HTMLElement","start","variable","Function","bench","debounce","totop","tobottom","itemcount","itemprops","watch","changeProp","itemModeForceRender","newScrollelement","oldScrollelement","removeScrollListener","addScrollListener","created","keeps","delta","create","direction","scrollTop","end","paddingTop","paddingBottom","varCache","varAverSize","varLastCalcIndex","getZone","setScrollTop","getVarOffset","beforeDestroy","beforeUpdate","calcstart","zone","includes","isLast","$nextTick","bind","forceRender","element","scrollHandler","onScroll","addEventListener","removeEventListener","event","vsl","$refs","$el","getBoundingClientRect","top","scrollelementRect","_elemRect","updateZone","param","fireEvent","overs","getVarOvers","floor","shouldRenderNextZone","abs","parseInt","max","lastStart","requestAnimationFrame","$forceUpdate","low","middle","middleOffset","high","nocache","cache","getVarSize","min","slot","$children","$vnode","$slots","style","shm","match","getVarPaddingTop","getVarPaddingBottom","last","getVarAllHeight","updateVariable","scrollTo","filter","h","allHeight","slots","length","hasPadding","renders","ceil","push","dbc","_this$delta","renderList","display","padding-top","padding-bottom","class","role","overflow-y","on","&scroll","undefined"],"mappings":"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","file":"www4/js/0.692a5dec0892d3aff91d.js","sourcesContent":["<template>\r\n  <div>\r\n      <van-nav-bar title=\"精选\"></van-nav-bar>\r\n        <!-- size是每个商品的高度 remain是一次显示多少行商品 -->\r\n        <virtual-list :size=\"vlistSize\" :remain=\"10\" class=\"vlist\" style=\"height:calc(100vh - 96px)\"\r\n          :onscroll=\"handleScroll\" ref=\"vlist\">\r\n          <van-swipe :autoplay=\"3000\">\r\n            <van-swipe-item v-for=\"(img, i) in adImages\" :key=\"'img-'+i\">\r\n              <img :src=\"img\">\r\n            </van-swipe-item>\r\n          </van-swipe>\r\n          <router-link :to=\"`/product/${item.id}`\" class=\"item\" v-for=\"(item, index) in list\" :key=\"`${Math.random()*100}-${item.id}`\">\r\n            <img v-lazy=\"item.cover\">\r\n            <h3>{{item.name}}</h3>\r\n            <div class=\"price clearfix\">\r\n              <span class=\"price-l\">￥</span>\r\n              <span class=\"cprice\">{{item.price}}</span>\r\n              <span class=\"price-r\">起</span>\r\n            </div>\r\n          </router-link>\r\n          <van-loading v-if=\"isLoading\" />\r\n        </virtual-list>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import virtualList from 'vue-virtual-scroll-list'\r\n  export default {\r\n    components: { 'virtual-list': virtualList },\r\n    data() {\r\n      return {\r\n        adImages: [\r\n          'https://img.yzcdn.cn/vant/apple-1.jpg',\r\n          'https://img.yzcdn.cn/vant/apple-2.jpg'\r\n        ],\r\n        page: 1,\r\n        total: 1,\r\n        isLoading: false,\r\n        list: []\r\n      }\r\n    },\r\n    computed: {\r\n      vlistSize() {\r\n        return screen.availWidth * 1.3\r\n      }\r\n    },\r\n    methods: {\r\n      handleScroll(e, params) {\r\n        if (this.page == this.total) {\r\n          return\r\n        }\r\n        if (this.isLoading) {\r\n          return\r\n        }\r\n        if (params.offset >= params.offsetAll - 400) {\r\n          this.isLoading = true\r\n          this.page++\r\n          this.getData()\r\n        }\r\n      },\r\n      getData() {\r\n        let params = {\r\n          page:this.page,\r\n          size:10\r\n        }\r\n        this.$axios.get(`/product/pagination`, {\r\n          params\r\n        }).then(res => {\r\n          if (res.errcode == 0) {\r\n            let data = res.data\r\n            this.total = data.totalPages\r\n            this.list = this.list.concat(data.data)\r\n            this.$store.skeletonVisible = false\r\n          }\r\n          this.isLoading = false\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getData()\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .van-loading {\r\n    text-align: center;\r\n    padding-bottom: 20px;\r\n  }\r\n\r\n  .my-tab {\r\n    height: 10vw;\r\n    width: 100vw;\r\n    display: flex;\r\n    align-items: center;\r\n    overflow-y: hidden;\r\n    flex-wrap: nowrap;\r\n  }\r\n\r\n  .my-tab a{\r\n    display: inline-block;\r\n    padding: 0 20vw;\r\n    text-align: center;\r\n    line-height: 10vw;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .van-swipe {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .van-swipe-item img {\r\n    width: 100%;\r\n    height: 40vw;\r\n  }\r\n\r\n  .van-icon-search {\r\n    font-size: 5vw;\r\n  }\r\n\r\n  .vlist {\r\n    height: calc(100vh - 50px - 46px);\r\n  }\r\n\r\n  .vlist .item {\r\n    float: left;\r\n    width: 100vw;\r\n    height: 130vw;\r\n  }\r\n\r\n  .vlist .item img {\r\n    width: 100vw;\r\n    height: 100vw;\r\n  }\r\n\r\n  .vlist .item h3 {\r\n    padding: 1.5vw 0 0 3vw;\r\n    color: #333;\r\n    font-size: 4.2vw;\r\n    height: 7vw;\r\n    overflow: hidden;\r\n  }\r\n\r\n\r\n  .vlist .item .price {\r\n    padding: 1vw 0 0 3vw;\r\n    font-size: 3.6vw;\r\n  }\r\n\r\n  .vlist .item .price span {\r\n    float: left;\r\n  }\r\n\r\n  .vlist .item .cprice {\r\n    color: #EA625B;\r\n    font-size: 3.6vw;\r\n  }\r\n\r\n  .vlist .item .price-l {\r\n    color: #EA625B;\r\n    font-size: 3vw;\r\n    margin-top: 0.2vw;\r\n  }\r\n\r\n  .vlist .item .price-r {\r\n    color: #EA625B;\r\n    font-size: 0.24vw;\r\n    margin-left: 0.4vw;\r\n    margin-top: 1vw;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/virtualList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"精选\"}}),_vm._v(\" \"),_c('virtual-list',{ref:\"vlist\",staticClass:\"vlist\",staticStyle:{\"height\":\"calc(100vh - 96px)\"},attrs:{\"size\":_vm.vlistSize,\"remain\":10,\"onscroll\":_vm.handleScroll}},[_c('van-swipe',{attrs:{\"autoplay\":3000}},_vm._l((_vm.adImages),function(img,i){return _c('van-swipe-item',{key:'img-'+i},[_c('img',{attrs:{\"src\":img}})])}),1),_vm._v(\" \"),_vm._l((_vm.list),function(item,index){return _c('router-link',{key:((Math.random()*100) + \"-\" + (item.id)),staticClass:\"item\",attrs:{\"to\":(\"/product/\" + (item.id))}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.cover),expression:\"item.cover\"}]}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price clearfix\"},[_c('span',{staticClass:\"price-l\"},[_vm._v(\"￥\")]),_vm._v(\" \"),_c('span',{staticClass:\"cprice\"},[_vm._v(_vm._s(item.price))]),_vm._v(\" \"),_c('span',{staticClass:\"price-r\"},[_vm._v(\"起\")])])])}),_vm._v(\" \"),(_vm.isLoading)?_c('van-loading'):_vm._e()],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60324236\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/virtualList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60324236\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./virtualList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./virtualList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./virtualList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60324236\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./virtualList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60324236\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/virtualList.vue\n// module id = null\n// module chunks = ","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 3IRH\n// module chunks = 0","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (root, factory) {\n  var namespace = 'VirtualList';\n  /* istanbul ignore next */\n\n  if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object' && (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === 'object') {\n    module.exports = factory(namespace, require('vue'));\n  } else if (typeof define === 'function' && define.amd) {\n    define(['vue'], factory.bind(root, namespace));\n  } else if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object') {\n    exports[namespace] = factory(namespace, require('vue'));\n  } else {\n    root[namespace] = factory(namespace, root['Vue']);\n  }\n})(this, function (namespace, Vue) {\n  /* istanbul ignore next */\n  if (_typeof(Vue) === 'object' && typeof Vue.default === 'function') {\n    Vue = Vue.default;\n  }\n  /* istanbul ignore next */\n\n\n  var _debounce = function _debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n      var context = this;\n      var args = arguments;\n\n      var later = function later() {\n        timeout = null;\n\n        if (!immediate) {\n          func.apply(context, args);\n        }\n      };\n\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n\n      if (callNow) {\n        func.apply(context, args);\n      }\n    };\n  };\n\n  return Vue.component(namespace, {\n    props: {\n      size: {\n        type: Number,\n        required: true\n      },\n      remain: {\n        type: Number,\n        required: true\n      },\n      rtag: {\n        type: String,\n        default: 'div'\n      },\n      wtag: {\n        type: String,\n        default: 'div'\n      },\n      wclass: {\n        type: String,\n        default: ''\n      },\n      pagemode: {\n        type: Boolean,\n        default: false\n      },\n      scrollelement: {\n        type: typeof window === 'undefined' ? Object : HTMLElement,\n        default: null\n      },\n      start: {\n        type: Number,\n        default: 0\n      },\n      offset: {\n        type: Number,\n        default: 0\n      },\n      variable: {\n        type: [Function, Boolean],\n        default: false\n      },\n      bench: {\n        type: Number,\n        default: 0 // also equal to remain\n\n      },\n      debounce: {\n        type: Number,\n        default: 0\n      },\n      totop: {\n        type: [Function, Boolean],\n        // Boolean just disable for priviate.\n        default: false\n      },\n      tobottom: {\n        type: [Function, Boolean],\n        // Boolean just disable for priviate.\n        default: false\n      },\n      onscroll: {\n        type: [Function, Boolean],\n        // Boolean just disable for priviate.\n        default: false\n      },\n      item: {\n        type: Object,\n        default: null\n      },\n      itemcount: {\n        type: Number,\n        default: 0\n      },\n      itemprops: {\n        type: Function,\n\n        /* istanbul ignore next */\n        default: function _default() {}\n      }\n    },\n    // use changeProp to identify which prop change.\n    watch: {\n      size: function size() {\n        this.changeProp = 'size';\n      },\n      remain: function remain() {\n        this.changeProp = 'remain';\n      },\n      bench: function bench() {\n        this.changeProp = 'bench';\n        this.itemModeForceRender();\n      },\n      start: function start() {\n        this.changeProp = 'start';\n        this.itemModeForceRender();\n      },\n      offset: function offset() {\n        this.changeProp = 'offset';\n        this.itemModeForceRender();\n      },\n      itemcount: function itemcount() {\n        this.changeProp = 'itemcount';\n        this.itemModeForceRender();\n      },\n      scrollelement: function scrollelement(newScrollelement, oldScrollelement) {\n        if (this.pagemode) return;\n        if (oldScrollelement) this.removeScrollListener(oldScrollelement);\n        if (newScrollelement) this.addScrollListener(newScrollelement);\n      }\n    },\n    created: function created() {\n      var start = this.start >= this.remain ? this.start : 0;\n      var keeps = this.remain + (this.bench || this.remain);\n      var delta = Object.create(null);\n      delta.direction = ''; // current scroll direction, D: down, U: up.\n\n      delta.scrollTop = 0; // current scroll top, use to direction.\n\n      delta.start = start; // start index.\n\n      delta.end = start + keeps - 1; // end index.\n\n      delta.keeps = keeps; // nums keeping in real dom.\n\n      delta.total = 0; // all items count, update in filter.\n\n      delta.offsetAll = 0; // cache all the scrollable offset.\n\n      delta.paddingTop = 0; // container wrapper real padding-top.\n\n      delta.paddingBottom = 0; // container wrapper real padding-bottom.\n\n      delta.varCache = {}; // object to cache variable index height and scroll offset.\n\n      delta.varAverSize = 0; // average/estimate item height before variable be calculated.\n\n      delta.varLastCalcIndex = 0; // last calculated variable height/offset index, always increase.\n\n      this.delta = delta;\n    },\n    mounted: function mounted() {\n      if (this.pagemode) {\n        this.addScrollListener(window);\n      } else if (this.scrollelement) {\n        this.addScrollListener(this.scrollelement);\n      }\n\n      if (this.start) {\n        var start = this.getZone(this.start).start;\n        this.setScrollTop(this.variable ? this.getVarOffset(start) : start * this.size);\n      } else if (this.offset) {\n        this.setScrollTop(this.offset);\n      }\n    },\n    beforeDestroy: function beforeDestroy() {\n      if (this.pagemode) {\n        this.removeScrollListener(window);\n      } else if (this.scrollelement) {\n        this.removeScrollListener(this.scrollelement);\n      }\n    },\n    // check if delta should update when props change.\n    beforeUpdate: function beforeUpdate() {\n      var delta = this.delta;\n      delta.keeps = this.remain + (this.bench || this.remain);\n      var calcstart = this.changeProp === 'start' ? this.start : delta.start;\n      var zone = this.getZone(calcstart); // if start, size or offset change, update scroll position.\n\n      if (this.changeProp && ['start', 'size', 'offset'].includes(this.changeProp)) {\n        var scrollTop = this.changeProp === 'offset' ? this.offset : this.variable ? this.getVarOffset(zone.isLast ? delta.total : zone.start) : zone.isLast && delta.total - calcstart <= this.remain ? delta.total * this.size : calcstart * this.size;\n        this.$nextTick(this.setScrollTop.bind(this, scrollTop));\n      } // if points out difference, force update once again.\n\n\n      if (this.changeProp || delta.end !== zone.end || calcstart !== zone.start) {\n        this.changeProp = '';\n        delta.end = zone.end;\n        delta.start = zone.start;\n        this.forceRender();\n      }\n    },\n    methods: {\n      // add pagemode/scrollelement scroll event listener\n      addScrollListener: function addScrollListener(element) {\n        this.scrollHandler = this.debounce ? _debounce(this.onScroll.bind(this), this.debounce) : this.onScroll;\n        element.addEventListener('scroll', this.scrollHandler, false);\n      },\n      // remove pagemode/scrollelement scroll event listener\n      removeScrollListener: function removeScrollListener(element) {\n        element.removeEventListener('scroll', this.scrollHandler, false);\n      },\n      onScroll: function onScroll(event) {\n        var delta = this.delta;\n        var vsl = this.$refs.vsl;\n        var offset;\n\n        if (this.pagemode) {\n          var elemRect = this.$el.getBoundingClientRect();\n          offset = -elemRect.top;\n        } else if (this.scrollelement) {\n          var scrollelementRect = this.scrollelement.getBoundingClientRect();\n\n          var _elemRect = this.$el.getBoundingClientRect();\n\n          offset = scrollelementRect.top - _elemRect.top;\n        } else {\n          offset = (vsl.$el || vsl).scrollTop || 0;\n        }\n\n        delta.direction = offset > delta.scrollTop ? 'D' : 'U';\n        delta.scrollTop = offset;\n\n        if (delta.total > delta.keeps) {\n          this.updateZone(offset);\n        } else {\n          delta.end = delta.total - 1;\n        }\n\n        var offsetAll = delta.offsetAll;\n\n        if (this.onscroll) {\n          var param = Object.create(null);\n          param.offset = offset;\n          param.offsetAll = offsetAll;\n          param.start = delta.start;\n          param.end = delta.end;\n          this.onscroll(event, param);\n        }\n\n        if (!offset && delta.total) {\n          this.fireEvent('totop');\n        }\n\n        if (offset >= offsetAll) {\n          this.fireEvent('tobottom');\n        }\n      },\n      // update render zone by scroll offset.\n      updateZone: function updateZone(offset) {\n        var delta = this.delta;\n        var overs = this.variable ? this.getVarOvers(offset) : Math.floor(offset / this.size); // if scroll up, we'd better decrease it's numbers.\n\n        if (delta.direction === 'U') {\n          overs = overs - this.remain + 1;\n        }\n\n        var zone = this.getZone(overs);\n        var bench = this.bench || this.remain; // for better performance, if scroll pass items within now bench, do not update.\n        // and if overs is going to reach last item, we should render next zone immediately.\n\n        var shouldRenderNextZone = Math.abs(overs - delta.start - bench) === 1;\n\n        if (!shouldRenderNextZone && overs - delta.start <= bench && !zone.isLast && overs > delta.start) {\n          return;\n        } // we'd better make sure forceRender calls as less as possible.\n\n\n        if (shouldRenderNextZone || zone.start !== delta.start || zone.end !== delta.end) {\n          delta.end = zone.end;\n          delta.start = zone.start;\n          this.forceRender();\n        }\n      },\n      // return the right zone info base on `start/index`.\n      getZone: function getZone(index) {\n        var start, end;\n        var delta = this.delta;\n        index = parseInt(index, 10);\n        index = Math.max(0, index);\n        var lastStart = delta.total - delta.keeps;\n        var isLast = index <= delta.total && index >= lastStart || index > delta.total;\n\n        if (isLast) {\n          end = delta.total - 1;\n          start = Math.max(0, lastStart);\n        } else {\n          start = index;\n          end = start + delta.keeps - 1;\n        }\n\n        return {\n          end: end,\n          start: start,\n          isLast: isLast\n        };\n      },\n      // public method, force render ui list if we needed.\n      // call this before the next repaint to get better performance.\n      forceRender: function forceRender() {\n        var _this = this;\n\n        window.requestAnimationFrame(function () {\n          _this.$forceUpdate();\n        });\n      },\n      // force render ui if using item-mode.\n      itemModeForceRender: function itemModeForceRender() {\n        if (this.item) {\n          this.forceRender();\n        }\n      },\n      // return the scroll passed items count in variable.\n      getVarOvers: function getVarOvers(offset) {\n        var low = 0;\n        var middle = 0;\n        var middleOffset = 0;\n        var delta = this.delta;\n        var high = delta.total;\n\n        while (low <= high) {\n          middle = low + Math.floor((high - low) / 2);\n          middleOffset = this.getVarOffset(middle); // calculate the average variable height at first binary search.\n\n          if (!delta.varAverSize) {\n            delta.varAverSize = Math.floor(middleOffset / middle);\n          }\n\n          if (middleOffset === offset) {\n            return middle;\n          } else if (middleOffset < offset) {\n            low = middle + 1;\n          } else if (middleOffset > offset) {\n            high = middle - 1;\n          }\n        }\n\n        return low > 0 ? --low : 0;\n      },\n      // return a variable scroll offset from given index.\n      getVarOffset: function getVarOffset(index, nocache) {\n        var delta = this.delta;\n        var cache = delta.varCache[index];\n\n        if (!nocache && cache) {\n          return cache.offset;\n        }\n\n        var offset = 0;\n\n        for (var i = 0; i < index; i++) {\n          var size = this.getVarSize(i, nocache);\n          delta.varCache[i] = {\n            size: size,\n            offset: offset\n          };\n          offset += size;\n        }\n\n        delta.varLastCalcIndex = Math.max(delta.varLastCalcIndex, index - 1);\n        delta.varLastCalcIndex = Math.min(delta.varLastCalcIndex, delta.total - 1);\n        return offset;\n      },\n      // return a variable size (height) from given index.\n      getVarSize: function getVarSize(index, nocache) {\n        var cache = this.delta.varCache[index];\n\n        if (!nocache && cache) {\n          return cache.size;\n        }\n\n        if (typeof this.variable === 'function') {\n          return this.variable(index) || 0;\n        } else {\n          // when using item, it can only get current components height,\n          // need to be enhanced, or consider using variable-function instead\n          var slot = this.item ? this.$children[index] ? this.$children[index].$vnode : null : this.$slots.default[index];\n          var style = slot && slot.data && slot.data.style;\n\n          if (style && style.height) {\n            var shm = style.height.match(/^(.*)px$/);\n            return shm && +shm[1] || 0;\n          }\n        }\n\n        return 0;\n      },\n      // return the variable paddingTop base current zone.\n      // @todo: if set a large `start` before variable was calculated,\n      // here will also case too much offset calculate when list is very large,\n      // consider use estimate paddingTop in this case just like `getVarPaddingBottom`.\n      getVarPaddingTop: function getVarPaddingTop() {\n        return this.getVarOffset(this.delta.start);\n      },\n      // return the variable paddingBottom base current zone.\n      getVarPaddingBottom: function getVarPaddingBottom() {\n        var delta = this.delta;\n        var last = delta.total - 1;\n\n        if (delta.total - delta.end <= delta.keeps || delta.varLastCalcIndex === last) {\n          return this.getVarOffset(last) - this.getVarOffset(delta.end);\n        } else {\n          // if unreached last zone or uncalculate real behind offset\n          // return the estimate paddingBottom avoid too much calculate.\n          return (delta.total - delta.end) * (delta.varAverSize || this.size);\n        }\n      },\n      // retun the variable all heights use to judge reach bottom.\n      getVarAllHeight: function getVarAllHeight() {\n        var delta = this.delta;\n\n        if (delta.total - delta.end <= delta.keeps || delta.varLastCalcIndex === delta.total - 1) {\n          return this.getVarOffset(delta.total);\n        } else {\n          return this.getVarOffset(delta.start) + (delta.total - delta.end) * (delta.varAverSize || this.size);\n        }\n      },\n      // public method, allow the parent update variable by index.\n      updateVariable: function updateVariable(index) {\n        // clear/update all the offfsets and heights ahead of index.\n        this.getVarOffset(index, true);\n      },\n      // trigger a props event on parent.\n      fireEvent: function fireEvent(event) {\n        if (this[event]) {\n          this[event]();\n        }\n      },\n      // set manual scroll top.\n      setScrollTop: function setScrollTop(scrollTop) {\n        if (this.pagemode) {\n          window.scrollTo(0, scrollTop);\n        } else if (this.scrollelement) {\n          this.scrollelement.scrollTo(0, scrollTop);\n        } else {\n          var vsl = this.$refs.vsl;\n\n          if (vsl) {\n            (vsl.$el || vsl).scrollTop = scrollTop;\n          }\n        }\n      },\n      // filter the shown items base on `start` and `end`.\n      filter: function filter(h) {\n        var delta = this.delta;\n        var slots = this.$slots.default || []; // item-mode shoud judge from items prop.\n\n        if (this.item) {\n          delta.total = this.itemcount;\n\n          if (delta.keeps > delta.total) {\n            delta.end = delta.total - 1;\n          }\n        } else {\n          if (!slots.length) {\n            delta.start = 0;\n          }\n\n          delta.total = slots.length;\n        }\n\n        var paddingTop, paddingBottom, allHeight;\n        var hasPadding = delta.total > delta.keeps;\n\n        if (this.variable) {\n          allHeight = this.getVarAllHeight();\n          paddingTop = hasPadding ? this.getVarPaddingTop() : 0;\n          paddingBottom = hasPadding ? this.getVarPaddingBottom() : 0;\n        } else {\n          allHeight = this.size * delta.total;\n          paddingTop = this.size * (hasPadding ? delta.start : 0);\n          paddingBottom = this.size * (hasPadding ? delta.total - delta.keeps : 0) - paddingTop;\n        }\n\n        if (paddingBottom < this.size) {\n          paddingBottom = 0;\n        }\n\n        delta.paddingTop = paddingTop;\n        delta.paddingBottom = paddingBottom;\n        delta.offsetAll = allHeight - this.size * this.remain;\n        var renders = [];\n\n        for (var i = delta.start; i < delta.total && i <= Math.ceil(delta.end); i++) {\n          var slot = null;\n\n          if (this.item) {\n            slot = h(this.item, this.itemprops(i));\n          } else {\n            slot = slots[i];\n          }\n\n          renders.push(slot);\n        }\n\n        return renders;\n      }\n    },\n    render: function render(h) {\n      var dbc = this.debounce;\n      var list = this.filter(h);\n      var _this$delta = this.delta,\n          paddingTop = _this$delta.paddingTop,\n          paddingBottom = _this$delta.paddingBottom;\n      var renderList = h(this.wtag, {\n        'style': {\n          'display': 'block',\n          'padding-top': paddingTop + 'px',\n          'padding-bottom': paddingBottom + 'px'\n        },\n        'class': this.wclass,\n        'attrs': {\n          'role': 'group'\n        }\n      }, list); // page mode just render list, no wraper.\n\n      if (this.pagemode || this.scrollelement) {\n        return renderList;\n      }\n\n      return h(this.rtag, {\n        'ref': 'vsl',\n        'style': {\n          'display': 'block',\n          'overflow-y': 'auto',\n          'height': this.size * this.remain + 'px'\n        },\n        'on': {\n          '&scroll': dbc ? _debounce(this.onScroll.bind(this), dbc) : this.onScroll\n        }\n      }, [renderList]);\n    }\n  });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-virtual-scroll-list/dist/index.js\n// module id = A7yg\n// module chunks = 0"],"sourceRoot":""}