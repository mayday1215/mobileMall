{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?ef7f","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/util/index.js","webpack:///./src/util/http.js","webpack:///./src/util/init.js","webpack:///./src/main.js"],"names":["App","data","name","password","errmsg","methods","pay","signin","_this","this","$axios","post","then","res","errcode","$Toast","$store","user","$util","transformAddressData","localStorage","token","cart","forEach","item","checked","stringify_default","showSignin","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","on","click","_v","$route","meta","noTabBar","_e","route","icon","to","info","cartProductCount","staticClass","position","close-on-click-overlay","model","value","callback","$$v","$set","expression","title","click-left","$event","slot","clearable","label","placeholder","error-message","type","size","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","store","Vue","cityData","areaData","geoLocationCity","productData","page","total","list","scrollTop","chosenAddress","computed","addressList","Array","isArray","reduce","prev","curr","index","count","use","Router","router","routes","path","component","resolve","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","needAuth","beforeEach","from","next","util","storageJSONToStore","key","initData","JSON","parse","error","i","length","addr","tel","mobile","county","country","addressDetail","detail","isDefault","default","areaCode","code","address","province","city","axios","defaults","baseURL","jsonp","interceptors","request","req","headers","Authorization","response","err","message","indexOf","config","_retryCount","alert","promise_default","a","reject","url","split","init","initStore","initHttpData","http","get","json","status","result","addressComponent","start","Vant","Lazyload","VueCropper","prototype","Toast","productionTip","el","components","template"],"mappings":"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","file":"www4/js/app.c5c7ecb664b3aec75aeb.js","sourcesContent":["<template>\r\n\r\n  <div id=\"app\" @click=\"pay\">\r\n    <!-- <form method=\"GET\" action=\"https://openapi.alipaydev.com/gateway.do\">\r\n      <input type=\"hidden\" name=\"charset\" value=\"utf-8\">\r\n      <input type=\"hidden\" name=\"app_id\" value=\"2016082600314760\">\r\n      <input type=\"hidden\" name=\"method\" value=\"alipay.trade.wap.pay\">\r\n      <input type=\"hidden\" name=\"return_url\" value=\"http://localhost:8080\">\r\n      <input type=\"hidden\" name=\"sign_type\" value=\"RSA2\">\r\n      <input type=\"hidden\" name=\"sign\" value=\"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1MQMH5mHS1M6wq4o6006qGmIufFQbyZBW8ET+mggIbF0CsRtGpjH60G0bTWA2SL9p/aNa1uMyuieNqa176VU1d/6DhSoSCk8j2ZyuNLUPkP85rj1m6vltZd5PlpCzLAw5tSGmURZblWvAJY6vq8xJuiIiwKanMH9hRFhUZkkcvEz3kDI1Aqf/+sVu/Z5osiMEeIABFOGpX40SDtaWRTcZ1cMhR/4dgWCFaXW/dmpjw4qxkfVWsDeu+Up7zvwihuph4VOVg9wJO5jrw781BkSfoWN65zzxaHw++igDldX2Wx4WyDd8ZCr/mnQyxRst+LI0c8CWL88/ep7UrWEAlOE9QIDAQAB\">\r\n      <input type=\"hidden\" name=\"timestamp\" value=\"2019-08-18 13:48:10\">\r\n      <input type=\"hidden\" name=\"biz_content\" value='{\"subject\":\"iphone6\",\"out_trade_no\":1}'>\r\n      <input type=\"submit\" value=\"ok\">\r\n    </form> -->\r\n    <transition name=\"van-fade\">\r\n      <router-view />\r\n    </transition>\r\n    <van-tabbar route v-if=\"!$route.meta.noTabBar\">\r\n      <van-tabbar-item icon=\"star-o\" to=\"/\">精选</van-tabbar-item>\r\n      <!-- <van-tabbar-item icon=\"search\" to=\"/search\">搜索</van-tabbar-item> -->\r\n      <van-tabbar-item icon=\"cart-o\" to=\"/cart\" :info=\"$store.cartProductCount ? $store.cartProductCount : ''\">购物车\r\n      </van-tabbar-item>\r\n      <van-tabbar-item icon=\"contact\" to=\"/me\">我的</van-tabbar-item>\r\n    </van-tabbar>\r\n\r\n    <van-popup class=\"van-popup-signin\" v-model=\"$store.showSignin\" position=\"bottom\" :close-on-click-overlay=\"false\">\r\n      <van-nav-bar title=\"登录/注册\" @click-left=\"$store.showSignin = false\">\r\n        <van-icon slot=\"left\" name=\"cross\" />\r\n      </van-nav-bar>\r\n      <van-cell-group>\r\n        <van-field v-model=\"name\" clearable label=\"用户名\" placeholder=\"请输入用户名\" :error-message=\"errmsg.name\" />\r\n        <van-field v-model=\"password\" type=\"password\" label=\"密码\" placeholder=\"请输入密码\" :error-message=\"errmsg.password\"\r\n          clearable />\r\n        <van-button type=\"primary\" size=\"large\" @click=\"signin\">登录/注册</van-button>\r\n      </van-cell-group>\r\n    </van-popup>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        name: '',\r\n        password: '',\r\n        errmsg: {\r\n          name: '',\r\n          password: ''\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      pay() {\r\n        // ap.tradePay({\r\n        //   orderStr: 'timestamp=2016-12-27%2018%3A00%3A00&method=alipay.trade.app.pay&app_id=2014073000007292......'\r\n        // }, function (res) {\r\n        //   ap.alert(res.resultCode);\r\n        // })\r\n      },\r\n      signin() {\r\n        if (this.name === '') {\r\n          this.errmsg.name = '账号不能为空'\r\n          return\r\n        } else {\r\n          this.errmsg.name = ''\r\n        }\r\n        if (this.password === '') {\r\n          this.errmsg.password = '密码不能为空'\r\n          return\r\n        } else {\r\n          this.errmsg.password = ''\r\n        }\r\n        this.$axios.post('/user/signin', {\r\n          name: this.name,\r\n          password: this.password\r\n        }).then(res => {\r\n          if (res.errcode == 0) {\r\n            this.$Toast('登录成功')\r\n            this.$store.user = res.data\r\n            this.$util.transformAddressData()\r\n            localStorage.token = res.data.token\r\n            this.$store.cart.forEach(item => {\r\n              item.checked = item.checked ? 1 : 0\r\n            })\r\n            this.$axios.post('/cart/cacheUpdate', { cart: this.$store.cart }).then(res => {\r\n              if (res.errcode === 0) {\r\n                this.$store.cart = res.data\r\n              }\r\n            })\r\n            localStorage.cart = JSON.stringify([])\r\n            this.$store.showSignin = false\r\n          } else {\r\n            this.errmsg.password = res.errmsg\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  /* :after就是在标签里面最后面加上一个块级空内容 */\r\n  .clearfix:after {\r\n    content: ' ';\r\n    display: block;\r\n    clear: both;\r\n  }\r\n\r\n  .center {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .list {\r\n    height: calc(100vh - 96px);\r\n    overflow-y: scroll;\r\n    -webkit-overflow-scrolling: touch;\r\n    background-color: #F8F8F8;\r\n  }\r\n\r\n  .noTabBarList {\r\n    height: calc(100vh - 50px);\r\n  }\r\n\r\n  .list .item {\r\n    float: left;\r\n    width: 50vw;\r\n    height: 68vw;\r\n  }\r\n\r\n  .list .item img {\r\n    width: 50vw;\r\n    height: 50vw;\r\n  }\r\n\r\n  .list .item h3 {\r\n    padding: 1.5vw 0 0 3vw;\r\n    color: #333;\r\n    font-size: 4.2vw;\r\n    height: 7vw;\r\n    overflow: hidden;\r\n  }\r\n\r\n\r\n  .list .item .price {\r\n    padding: 1vw 0 0 3vw;\r\n    font-size: 3.6vw;\r\n  }\r\n\r\n  .list .item .price span {\r\n    float: left;\r\n  }\r\n\r\n  .list .item .cprice {\r\n    color: #EA625B;\r\n    font-size: 3.6vw;\r\n  }\r\n\r\n  .list .item .price-l {\r\n    color: #EA625B;\r\n    font-size: 3vw;\r\n    margin-top: 0.2vw;\r\n  }\r\n\r\n  .list .item .price-r {\r\n    color: #EA625B;\r\n    font-size: 0.24vw;\r\n    margin-left: 0.4vw;\r\n    margin-top: 1vw;\r\n  }\r\n\r\n  .item-gap {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .item-gap:last-of-type {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .item-gap .van-cell__left-icon {\r\n    font-size: 50px;\r\n  }\r\n\r\n  .van-popup-pay {\r\n    height: 60%;\r\n    min-height: 430px;\r\n  }\r\n\r\n  .van-popup-signin {\r\n    height: 100%;\r\n  }\r\n\r\n  .pay-nav-bar {\r\n    margin-bottom: 10%;\r\n  }\r\n\r\n  .van-goods-action {\r\n    z-index: 99;\r\n  }\r\n\r\n  .toTop {\r\n    position: fixed;\r\n    bottom: 13vw;\r\n    right: 5vw;\r\n    z-index: 999;\r\n    font-size: 10vw;\r\n    color: #999;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"click\":_vm.pay}},[_c('transition',{attrs:{\"name\":\"van-fade\"}},[_c('router-view')],1),_vm._v(\" \"),(!_vm.$route.meta.noTabBar)?_c('van-tabbar',{attrs:{\"route\":\"\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"star-o\",\"to\":\"/\"}},[_vm._v(\"精选\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"cart-o\",\"to\":\"/cart\",\"info\":_vm.$store.cartProductCount ? _vm.$store.cartProductCount : ''}},[_vm._v(\"购物车\\n    \")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"contact\",\"to\":\"/me\"}},[_vm._v(\"我的\")])],1):_vm._e(),_vm._v(\" \"),_c('van-popup',{staticClass:\"van-popup-signin\",attrs:{\"position\":\"bottom\",\"close-on-click-overlay\":false},model:{value:(_vm.$store.showSignin),callback:function ($$v) {_vm.$set(_vm.$store, \"showSignin\", $$v)},expression:\"$store.showSignin\"}},[_c('van-nav-bar',{attrs:{\"title\":\"登录/注册\"},on:{\"click-left\":function($event){_vm.$store.showSignin = false}}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"cross\"},slot:\"left\"})],1),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"clearable\":\"\",\"label\":\"用户名\",\"placeholder\":\"请输入用户名\",\"error-message\":_vm.errmsg.name},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"error-message\":_vm.errmsg.password,\"clearable\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.signin}},[_vm._v(\"登录/注册\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2199fa5a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2199fa5a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2199fa5a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\n\r\nexport default new Vue({\r\n  data:{\r\n    showSignin:false,\r\n    cityData:{},\r\n    areaData:{},\r\n    geoLocationCity:'',\r\n    user:{},\r\n    cart:[],\r\n    productData:{\r\n      page: 1,\r\n      total: 1,\r\n      list:[],\r\n      scrollTop:0\r\n    },\r\n    chosenAddress:{}\r\n  },\r\n  methods: {\r\n    \r\n  },\r\n  computed: {\r\n    addressList(){\r\n      return Array.isArray(this.user.addressList) ? this.user.addressList : []\r\n    },\r\n    cartProductCount(){\r\n      return this.cart.reduce((prev, curr, index) => {\r\n        if(curr.checked){\r\n          return prev += curr.count\r\n        }else{\r\n          return prev\r\n        }\r\n        // return prev += curr.count\r\n      }, 0)\r\n    }\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '../store';\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n  routes: [\r\n    {\r\n      path: '/user/setting',\r\n      name: 'userSetting',\r\n      component: resolve => require(['@/pages/userSetting'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/user/nickname',\r\n      name: 'nicknameSetting',\r\n      component: resolve => require(['@/pages/nicknameSetting'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/user/avatar',\r\n      name: 'avatarSetting',\r\n      component: resolve => require(['@/pages/avatarSetting'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/user/passwordSetting',\r\n      name: 'passwordSetting',\r\n      component: resolve => require(['@/pages/passwordSetting'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/user/payPasswordSetting',\r\n      name: 'payPasswordSetting',\r\n      component: resolve => require(['@/pages/payPasswordSetting'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/',\r\n      name: 'index',\r\n      component: resolve => require(['@/pages/index'], resolve),\r\n    },\r\n    {\r\n      path: '/cart',\r\n      name: 'cart',\r\n      component: resolve => require(['@/pages/cart'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/me',\r\n      name: 'me',\r\n      component: resolve => require(['@/pages/me'], resolve),\r\n      meta:{\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/orderList',\r\n      name: 'orderList',\r\n      component: resolve => require(['@/pages/orderList'], resolve),\r\n      meta:{\r\n        needAuth:true,\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/product/:id',\r\n      name: 'product',\r\n      component: resolve => require(['@/pages/product'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/order/:id',\r\n      name: 'order',\r\n      component: resolve => require(['@/pages/order'], resolve),\r\n      meta:{\r\n        noTabBar:true,\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/search',\r\n      name: 'search',\r\n      component: resolve => require(['@/pages/search'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/likeList',\r\n      name: 'likeList',\r\n      component: resolve => require(['@/pages/likeList'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/orderConfirm',\r\n      name: 'orderConfirm',\r\n      component: resolve => require(['@/pages/orderConfirm'], resolve),\r\n      meta:{\r\n        noTabBar:true,\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/addressList',\r\n      name: 'addressList',\r\n      component: resolve => require(['@/pages/addressList'], resolve),\r\n      meta:{\r\n        noTabBar:true,\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/addressEdit/:id',\r\n      name: 'addressEdit',\r\n      component: resolve => require(['@/pages/addressEdit'], resolve),\r\n      meta:{\r\n        noTabBar:true,\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/paySuccess',\r\n      name: 'paySuccess',\r\n      component: resolve => require(['@/pages/paySuccess'], resolve),\r\n      meta:{\r\n        noTabBar:true,\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/payFail',\r\n      name: 'payFail',\r\n      component: resolve => require(['@/pages/payFail'], resolve),\r\n      meta:{\r\n        noTabBar:true,\r\n        needAuth:true\r\n      }\r\n    },\r\n    {\r\n      path: '/citySelect',\r\n      name: 'citySelect',\r\n      component: resolve => require(['@/pages/citySelect'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    },\r\n    {\r\n      path: '/virtualList',\r\n      name: 'virtualList',\r\n      component: resolve => require(['@/pages/virtualList'], resolve)\r\n    },\r\n    {\r\n      path: '*',\r\n      name: '404',\r\n      component: resolve => require(['@/pages/404'], resolve),\r\n      meta:{\r\n        noTabBar:true\r\n      }\r\n    }\r\n  ]\r\n})\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.meta.needAuth){\r\n    if(localStorage.token){\r\n      store.showSignin = false\r\n      next()\r\n    }else{\r\n      // to.query.redirect = to.name\r\n      // to.query.params = to.params\r\n      store.showSignin = true\r\n      // router.push({name:'signin', query:to.query})\r\n    }\r\n  }else{\r\n    store.showSignin = false\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import store from '../store'\r\n\r\nexport default {\r\n  storageJSONToStore(key, initData) {\r\n    if (localStorage[key]) {\r\n      try {\r\n        store[key] = JSON.parse(localStorage[key])\r\n      } catch (error) {\r\n        store[key] = initData\r\n      }\r\n    }\r\n  },\r\n  transformAddressData() {\r\n    let addressList = store.user.addressList\r\n    if (Array.isArray(addressList)) {\r\n      for (let i = 0; i < addressList.length; i++) {\r\n        const addr = addressList[i]\r\n        addr.tel = addr.mobile\r\n        addr.county = addr.country\r\n        addr.addressDetail = addr.detail\r\n        addr.isDefault = addr.default ? true : false\r\n        addr.areaCode = addr.code\r\n        addr.address = addr.province + addr.city + addr.country + addr.detail\r\n      }\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js","import router from '../router'\r\nimport store from '../store'\r\nimport axios from 'axios'\r\nimport jsonp from 'fetch-jsonp'\r\n\r\n// axios所有调接口地址自动加上这个前缀\r\naxios.defaults.baseURL = '/api/v4'\r\n// axios.defaults.timeout = 1000\r\n\r\naxios.jsonp = jsonp\r\n\r\naxios.interceptors.request.use(req => {\r\n  req.headers.Authorization = localStorage.token\r\n  return req\r\n})\r\n\r\naxios.interceptors.response.use(res => {\r\n  res = res.data\r\n  if (res.errcode === 90101) {\r\n    store.user = {}\r\n    localStorage.token = \"\"\r\n    // store.showSignin = true\r\n  }\r\n  return res\r\n}, err => {\r\n  if (err.request) {\r\n    if (err.message.indexOf('timeout') > -1) {\r\n      let config = err.config\r\n      config.headers._retryCount = config.headers._retryCount ? config.headers._retryCount : 1\r\n      if (config.headers._retryCount >= 5) {\r\n        alert(\"网络错误\")\r\n        return Promise.reject(err)\r\n      }\r\n      config.headers._retryCount += 1\r\n      config.url = config.url.split(config.baseURL)[1]\r\n      return axios(config)\r\n    }\r\n  } else if (err.response) {\r\n\r\n  } else {\r\n\r\n  }\r\n\r\n  return Promise.reject(err)\r\n})\r\n\r\nexport default axios\n\n\n// WEBPACK FOOTER //\n// ./src/util/http.js","import util from './index'\r\nimport store from '../store'\r\nimport http from './http'\r\n\r\nexport default {\r\n  initStore() {\r\n    // 如果没有登录的话，把本地存储的购物车保存到store\r\n    util.storageJSONToStore('cart', [])\r\n  },\r\n  initHttpData() {\r\n    http.get('/user/info').then(res => {\r\n      if (res.errcode === 0) {\r\n        store.user = res.data\r\n        util.transformAddressData()\r\n      }\r\n    })\r\n    http.get('/data/city').then(res => {\r\n      if (res.errcode === 0) {\r\n        store.cityData = res.data\r\n        localStorage.cityData = JSON.stringify(res.data)\r\n      }\r\n    })\r\n    http.get('/data/area').then(res => {\r\n      if (res.errcode === 0) {\r\n        store.areaData = res.data\r\n        localStorage.areaData = JSON.stringify(res.data)\r\n      }\r\n    })\r\n    if (localStorage.geoLocationCity) {\r\n      store.geoLocationCity = localStorage.geoLocationCity\r\n    } else {\r\n      http.jsonp('http://api.map.baidu.com/geocoder/v2/?ak=C93b5178d7a8ebdb830b9b557abce78b&callback=renderReverse&location=22.62,114.07&output=json&pois=0').then(res => {\r\n        res.json().then(res => {\r\n          if (res.status === 0) {\r\n            store.geoLocationCity = res.result.addressComponent.city\r\n            localStorage.geoLocationCity = store.geoLocationCity\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n\r\n  },\r\n  start() {\r\n    this.initStore()\r\n    this.initHttpData()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/init.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'\r\nimport util from './util';\r\nimport http from './util/http'\r\nimport init from './util/init'\r\nimport Vant from 'vant'\r\nimport VueCropper from 'vue-cropperjs'\r\nimport 'cropperjs/dist/cropper.css'\r\n\r\n// es6解构\r\nimport { Lazyload, Toast } from 'vant'\r\nimport 'vant/lib/index.css'\r\n\r\n\r\nVue.use(Vant)\r\nVue.use(Lazyload, {})\r\nVue.component('vue-cropper', VueCropper)\r\n\r\nVue.prototype.$store = store\r\nVue.prototype.$axios = http\r\nVue.prototype.$Toast = Toast\r\nVue.prototype.$util = util\r\n\r\n\r\ninit.start()\r\n\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}